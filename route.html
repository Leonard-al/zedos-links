<!DOCTYPE html>
<html>
<head>
  <title>Redirecting...</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script>
  const params = new URLSearchParams(window.location.search);
const data = params.get("data");
let pagePath = params.get("path") || "home"; // Default to home if missing

const isAndroid = /Android/i.test(navigator.userAgent);
const isiOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);

if (isAndroid) {
  const pageQuery = `${pagePath}?data=${data}`;
  window.location = `intent://${pageQuery}#Intent;scheme=https;package=com.madt.zedos;end`;

 let fallbackTimeout = setTimeout(() => {
  const encodedData = encodeURIComponent(`data=${data}&page=${pagePath}`);
  window.location = `https://play.google.com/store/apps/details?id=com.madt.zedos&referrer=${encodedData}`;
}, 2000);

// If page is hidden (user left the browser to app), cancel fallback
document.addEventListener('visibilitychange', () => {
  if (document.visibilityState === 'hidden') {
    clearTimeout(fallbackTimeout);
  }
});


} else if (isiOS) {
  window.location = "https://apps.apple.com/app/com.madt.zedos";
} else {
  document.write("Please open this link on your phone.");
}

  </script>
</head>
<body>
  <p>Redirecting...</p>
</body>
</html>


